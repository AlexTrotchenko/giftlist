---
import AppLayout from "@/layouts/AppLayout.astro";
import { getLocale, isLocale } from "@/paraglide/runtime";
import * as m from "@/paraglide/messages";

// Extract locale from URL path
const pathSegments = Astro.url.pathname.split("/").filter(Boolean);
const firstSegment = pathSegments[0];

// Validate locale - redirect invalid locales to base locale
if (firstSegment && !isLocale(firstSegment) && firstSegment !== "") {
	// Invalid path that doesn't match a locale - this shouldn't happen with proper routing
	return Astro.redirect("/");
}

const locale = getLocale();
---

<AppLayout title={`${m.common_appName()} - ${m.landing_heroTitle()}`} locale={locale}>
	<div class="container mx-auto flex flex-col items-center justify-center px-4 py-24 text-center">
		<h1 class="text-4xl font-bold tracking-tight sm:text-5xl">
			{m.landing_heroTitle()}
		</h1>
		<p class="mt-4 max-w-lg text-lg text-muted-foreground">
			{m.landing_heroDescription()}
		</p>
	</div>
</AppLayout>
